<head>
  <title>ShiftMap</title>
</head>

<template name = "calendar">

  <style>
  table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
  }
  th, td {
    padding: 5px;
  }
  </style>

  <button id="erase"> Empty Collection</button>
  <button id="add"> Add To Collection</button>

  <h1> Shift Map </h1>
  <h2> Student Employment Shift Manager </h2>


  <table style="width:100%">
      {{#each getDays}}
        <td>{{>setDay}}</td>
      {{/each}}
  </table>
    
</template>

<template name = "Home">
  <div class = "container">
  {{#if currentUser}}
    <div class="whiteContainer">
      {{> calendar}}
    </div>
  {{else}}
      <h2 id = "header1"><span>ShiftMap:<span class='spacer'></span><br /><span class='spacer'></span>The time for those annoying emails to request a shift has ended</span></h2>
      <!--<h2 id="header2"><a href="/calendar" >login</a></h2>-->
      <center><a href="#" class="caslogin"><button type="button" class="btn btn-primary btn-lg"> Login </button></a></center>
  {{/if}}
  </div>
</template>


<template name="Header">
  <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">

      <div class="navbar-header">
        <h1 class="navbar-brand" href="/">ShiftMap</h1>
      </div>

      <ul class="collapse navbar-collapse" id="main-nav">

        <ul class="nav navbar-nav navbar-right">
          {{#if currentUser}}
            <!--<li><a href="{{ pathFor 'AddStuff' }}">Add Stuff</a></li>
            <li><a href="{{ pathFor 'ListStuff' }}">List Stuff</a></li>-->
          {{/if}} 
          {{> CasLogin }}
        </ul>
      </ul>
    </div>
  </nav>
</template>

<template name="Layout">
  {{> Header}}
  <div class="container">
    {{> yield}}
  </div>
</template>

<template name="CasLogin">
  {{#if currentUser}}
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">{{ currentUser.profile.name }}<b class="caret"></b></a>
      <ul class="dropdown-menu" role="menu">
        <li><a href="#" class="btn cas-logout">Logout</a></li>
      </ul>
    </li>


  {{else}}
    <li><a href="#" class="navbar-link cas-login">Login</a></li>
  {{/if}}
</template>


  <!-- Retrieve the group and its start, end, and admin --> 

<template name="setDay">
  <th>{{day}}</th> 
    {{#each shift}}
      <button style={{mapShift startS endS names}} id={{day}}{{startS}}{{endS}}>
        {{startS}} - {{endS}}
      </button>
    {{/each}}
</template>
