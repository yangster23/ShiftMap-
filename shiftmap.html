<head>
  <title>ShiftMap</title>
</head>

<!--
<template name = "calendar">
  <div class="well"> 

  <style>
  table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
  }
  th, td {
    padding: 5px;
  }
  </style>

  <button id="erase"> Empty Collection</button>
  <button id="add"> Add To Collection</button>

  <h1> Shift Map </h1>
  <h2> Student Employment Shift Manager </h2>


  <table style="width:100%">
      {{#each getDays}}
        <tr>{{>setDay}}</tr>
      {{/each}}
  </table>
<<<<<<< HEAD
  </div>
=======
    
</template> -->
<!-- TODO: Change this to make it into a calendar-->
<template name = "calendar">
  <div class="well">
  <style>
  table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
  }
  th, td {
    padding: 5px;
  }
  </style>
  <table style="width:100%;height:100%">
      {{#each getDays.week}}
        <td style="width:12.5%">{{>setDay}}</td>
      {{/each}}
  </table>
</div>
</template>


<template name = "Home">
  <div class = "container">
  {{#if currentUser}}
      {{> calendar}}
  {{else}}
      <h2 id = "header1"><span>ShiftMap:<span class='spacer'></span><br /><span class='spacer'></span>The time for those annoying emails to request a shift has ended</span></h2>
      <!--<h2 id="header2"><a href="/calendar" >login</a></h2>-->
      <center><a href="#" class="caslogin"><button type="button" class="btn btn-primary btn-lg"> Login </button></a></center>
  {{/if}}
  </div>
</template>


<template name="Header">
  <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">

      <div class="navbar-header">
        <a class="navbar-brand" href="/">ShiftMap</a>
      </div>

      <ul class="collapse navbar-collapse" id="main-nav">

        <ul class="nav navbar-nav navbar-right">
          <li><a href="/help"> Help </a></li>
          <li><a href="/about-us"> About Us </a></li>
          
          {{#if currentUser}}
            <li><a href="/employer-form"><button type="button" class="btn btn-default" aria-label="plus">
              <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
            </button></a></li>
              <!--<li><a href="{{ pathFor 'ListStuff' }}">List Stuff</a></li>-->
            {{#each getGroups currentUser.profile.name}}
              <li><a class="groupElement" href="/" id={{ groupid }}>{{getGroupName groupid}}</a></li>
              <!--<li><a href="{{ pathFor 'AddStuff' }}">Add Stuff</a></li>
              <li><a href="{{ pathFor 'ListStuff' }}">List Stuff</a></li>-->
            {{/each}}
          {{/if}} 
          {{> CasLogin }}
        </ul>
      </ul>
    </div>
  </nav>
</template>

<template name="Layout">
  {{> Header}}
  <div class="container">
    {{> yield}}
  </div>
</template>

<template name="CasLogin">
  {{#if currentUser}}

    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">{{ currentUser.profile.name }}<b class="caret"></b></a>
      <ul class="dropdown-menu" role="menu">
        <li><a href="#" class="btn cas-logout">Logout</a></li>
      </ul>
    </li>

  {{else}}
    <li><a href="#" class="navbar-link cas-login">Login</a></li>
  {{/if}}
</template>

<!-- Retrieve the group and its start, end, and admin --> 
<template name="setDay">
  {{#each oneday}}
    <button style={{mapShift start end users currentUser.profile.name}} id={{_id}} a={{currentUser.profile.name}}>
      {{start}} - {{end}}
    </button>
  {{/each}}
</template>



