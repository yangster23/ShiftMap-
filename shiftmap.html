<head>
  <title>ShiftMap</title>
</head>

<!--
<template name = "calendar">

  <style>
  table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
  }
  th, td {
    padding: 5px;
  }
  </style>

  <button id="erase"> Empty Collection</button>
  <button id="add"> Add To Collection</button>

  <h1> Shift Map </h1>
  <h2> Student Employment Shift Manager </h2>


  <table style="width:100%">
      {{#each getDays}}
        <tr>{{>setDay}}</tr>
      {{/each}}
  </table>
    
</template> -->
<!-- TODO: Change this to make it into a calendar-->
<template name = "calendar">

  <style>
  table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
  }
  th, td {
    padding: 5px;
  }
  </style>
  <table style="width:100%;height:100%">
      {{#each getDays.week}}
        <td style="width:12.5%">{{>setDay}}</td>
      {{/each}}
  </table>

</template>


<template name = "Home">
  <div class = "container">
  {{#if currentUser}}
      {{> calendar}}
  {{else}}
      <h1 id="header1">ShiftMap</h1>
      <!--<h2 id="header2"><a href="/calendar" >login</a></h2>-->
      <h3 id="header3"> The time for those annoying emails to request a shift has ended</h3> 
  {{/if}}
  </div>
</template>

<template name="Header">
  <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">

      <div class="navbar-header">
        <h1 class="navbar-brand" href="/">ShiftMap</h1>
      </div>

      <ul class="collapse navbar-collapse" id="main-nav">

        <ul class="nav navbar-nav navbar-right">
          {{#if currentUser}}
            {{#each getGroups currentUser.profile.name}}
              <li><a class="groupElement" id={{ groupid }}>{{getGroupName groupid}}</a></li>
            <!--<li><a href="{{ pathFor 'AddStuff' }}">Add Stuff</a></li>
            <li><a href="{{ pathFor 'ListStuff' }}">List Stuff</a></li>-->
            {{/each}}
            <li><a class="newGroup" id={{ currentUser.profile.name }}>Text goes here</a></li>
          {{/if}} 
          {{> CasLogin }}
        </ul>
      </ul>
    </div>
  </nav>
</template>

<template name="Layout">
  {{> Header}}
  <div class="container">
    {{> yield}}
  </div>
</template>

<template name="CasLogin">
  {{#if currentUser}}
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">{{ currentUser.profile.name }}<b class="caret"></b></a>
      <ul class="dropdown-menu" role="menu">
        <li><a href="#" class="btn cas-logout">Logout</a></li>
      </ul>
    </li>

  {{else}}
    <li><a href="#" class="navbar-link cas-login">Login</a></li>
  {{/if}}
</template>

<!-- Retrieve the group and its start, end, and admin --> 
<template name="setDay">
  {{#each oneday}}
    <button style={{mapShift start end users currentUser.profile.name}} id={{_id}} a={{currentUser.profile.name}}>
      {{start}} - {{end}}
    </button>
  {{/each}}
</template>
